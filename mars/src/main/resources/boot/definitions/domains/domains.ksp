package io.mars

create FileInfo FI_FILE_INFO_STD {
	storeName : "main"
}

create FileInfo FI_FILE_INFO_TMP {
	storeName : "temp"
}


/**************************************************************************************************/
/********************************* Formatters *****************************************************/
/**************************************************************************************************/
create Formatter FMT_DEFAULT{
	className : "io.vertigo.dynamox.domain.formatter.FormatterDefault"
}

create Formatter FMT_DATE {
     className :"io.vertigo.dynamox.domain.formatter.FormatterDate"
     args : "dd/MM/yy;dd/MM/yyyy"
}

create Formatter FMT_DATE_HEURE {
     className :"io.vertigo.dynamox.domain.formatter.FormatterDate"
     args : "dd/MM/yyyy 'ï¿½' HH'h'mm"
}

create Formatter FMT_TAGS {
	className : "io.vertigo.dynamox.domain.formatter.FormatterDefault"
	/* TODO implement tags formatter */
}

create Formatter FMT_CURRENCY {
	className : "io.vertigo.dynamox.domain.formatter.FormatterDefault"
	/* TODO implement currency formatter */
}


/**************************************************************************************************/
/********************************* Constraints ****************************************************/
/**************************************************************************************************/

create Constraint CK_EMAIL {
	className: "io.vertigo.dynamox.domain.constraint.ConstraintRegex"
	args : "^[_a-zA-Z0-9-]+(\.[_a-zA-Z0-9-]+)*@[a-zA-Z0-9-]+(\.[_a-zA-Z0-9-]+)*(\.[a-zA-Z0-9-]{2,3})+$"
	msg : "L'email n'est pas valide"
}

create Constraint CK_MAX_LENGTH_20 {
	className: "io.vertigo.dynamox.domain.constraint.ConstraintStringLength"
	args :"20"
}

create Constraint CK_MAX_LENGTH_32 {
	className: "io.vertigo.dynamox.domain.constraint.ConstraintStringLength"
	args :"32"
}

create Constraint CK_MAX_LENGTH_50 {
	className: "io.vertigo.dynamox.domain.constraint.ConstraintStringLength"
	args :"50"
}

create Constraint CK_MAX_LENGTH_100 {
	className: "io.vertigo.dynamox.domain.constraint.ConstraintStringLength"
	args :"100"
}

create Constraint CK_MAX_LENGTH_150 {
	className: "io.vertigo.dynamox.domain.constraint.ConstraintStringLength"
	args :"150"
}

create Constraint CK_MAX_LENGTH_250 {
	className: "io.vertigo.dynamox.domain.constraint.ConstraintStringLength"
	args :"250"
}

create Constraint CK_MAX_LENGTH_350 {
	className: "io.vertigo.dynamox.domain.constraint.ConstraintStringLength"
	args :"350"
}

create Constraint CK_MAX_LENGTH_3000 {
	className: "io.vertigo.dynamox.domain.constraint.ConstraintStringLength"
	args :"3000"
}

create Constraint CK_MIN_HEALTH_VALUE_0 {
	className: "io.vertigo.dynamox.domain.constraint.ConstraintNumberMinimum"
	args :"0"
}

create Constraint CK_MAX_HEALTH_VALUE_100 {
	className: "io.vertigo.dynamox.domain.constraint.ConstraintNumberMaximum"
	args :"100"
}


/**************************************************************************************************/
/********************************* Domains ********************************************************/
/**************************************************************************************************/

create Domain DO_LONGS {  
    dataType : Long
    multiple : "true"
    formatter : FMT_DEFAULT
}

create Domain DO_ID {
	dataType : Long
	formatter : FMT_DEFAULT
	storeType : "NUMERIC"
}


create Domain DO_INSTANT {
	dataType : Instant
	formatter : FMT_DATE_HEURE
	storeType : "TIMESTAMP"
}

create Domain DO_LOCALDATE {
	dataType : LocalDate
	formatter : FMT_DATE
	storeType : "DATE"
}


create Domain DO_CURRENCY {
	dataType : BigDecimal
	formatter : FMT_CURRENCY
	unit : "$"
	storeType: "NUMERIC(12,2)"
}


create Domain DO_HEALTH {
	dataType: Integer
	formatter : FMT_DEFAULT
	constraint : [CK_MIN_HEALTH_VALUE_0, CK_MAX_HEALTH_VALUE_100]
	storeType : "NUMERIC"
}

create Domain DO_LABEL {
	dataType : String
	formatter : FMT_DEFAULT
	constraint : [CK_MAX_LENGTH_100]
	storeType : "VARCHAR(100)"
	indexType : "text_fr:facetable"
}

create Domain DO_DESCRIPTION {
	dataType : String
	formatter : FMT_DEFAULT
	constraint : [CK_MAX_LENGTH_350]
	storeType : "VARCHAR(350)"
	indexType : "text_fr"
}

create Domain DO_EMAIL {
	dataType : String
	formatter : FMT_DEFAULT
	constraint : [CK_EMAIL, CK_MAX_LENGTH_150]
	storeType : "VARCHAR(150)"
}

create Domain DO_CODE {
	dataType : String
	formatter : FMT_DEFAULT
	constraint : [CK_MAX_LENGTH_100]
	storeType : "VARCHAR(100)"
	indexType : "code:keyword"
}


create Domain DO_PASSWORD {
	dataType : String
	formatter : FMT_DEFAULT
	constraint : [CK_MAX_LENGTH_32]
	storeType : "VARCHAR(32)"
}

create Domain DO_TEXT {
	dataType : String
	formatter : FMT_DEFAULT
	storeType : "TEXT"
}

create Domain DO_FILE_PATH {
	dataType : String
	formatter : FMT_DEFAULT
	storeType : "VARCHAR(500)"
}

create Domain DO_TAGS {
	dataType : String
	formatter : FMT_TAGS
	storeType : "TEXT"
	indexType : "multiple_code:facetable"
}

create Domain DO_YES_NO {
	dataType : Boolean
	formatter : FMT_DEFAULT
	storeType : "bool"
}


create Domain DO_SIZE {
	dataType : Long
	formatter : FMT_DEFAULT
	storeType : "NUMERIC"
}